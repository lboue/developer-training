"use strict";(self.webpackChunkgolioth_developer_training=self.webpackChunkgolioth_developer_training||[]).push([[237],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(a),h=o,m=u["".concat(s,".").concat(h)]||u[h]||d[h]||l;return a?n.createElement(m,r(r({ref:t},c),{},{components:a})):n.createElement(m,r({ref:t},c))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=a.length,r=new Array(l);r[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,r[1]=i;for(var p=2;p<l;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294),o=a(6010);const l="tabItem_Ymn6";function r(e){let{children:t,hidden:a,className:r}=e;return n.createElement("div",{role:"tabpanel",className:(0,o.Z)(l,r),hidden:a},t)}},5488:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(7462),o=a(7294),l=a(6010),r=a(2389),i=a(7392),s=a(7094),p=a(2466);const c="tabList__CuJ",d="tabItem_LNqP";function u(e){var t;const{lazy:a,block:r,defaultValue:u,values:h,groupId:m,className:g}=e,y=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),k=h??y.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),v=(0,i.l)(k,((e,t)=>e.value===t.value));if(v.length>0)throw new Error(`Docusaurus error: Duplicate values "${v.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const f=null===u?u:u??(null==(t=y.find((e=>e.props.default)))?void 0:t.props.value)??y[0].props.value;if(null!==f&&!k.some((e=>e.value===f)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${f}" but none of its children has the corresponding value. Available values are: ${k.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:b,setTabGroupChoices:w}=(0,s.U)(),[N,T]=(0,o.useState)(f),x=[],{blockElementScrollPositionUntilNextRender:Z}=(0,p.o5)();if(null!=m){const e=b[m];null!=e&&e!==N&&k.some((t=>t.value===e))&&T(e)}const z=e=>{const t=e.currentTarget,a=x.indexOf(t),n=k[a].value;n!==N&&(Z(t),T(n),null!=m&&w(m,String(n)))},O=e=>{var t;let a=null;switch(e.key){case"ArrowRight":{const t=x.indexOf(e.currentTarget)+1;a=x[t]??x[0];break}case"ArrowLeft":{const t=x.indexOf(e.currentTarget)-1;a=x[t]??x[x.length-1];break}}null==(t=a)||t.focus()};return o.createElement("div",{className:(0,l.Z)("tabs-container",c)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":r},g)},k.map((e=>{let{value:t,label:a,attributes:r}=e;return o.createElement("li",(0,n.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>x.push(e),onKeyDown:O,onFocus:z,onClick:z},r,{className:(0,l.Z)("tabs__item",d,null==r?void 0:r.className,{"tabs__item--active":N===t})}),a??t)}))),a?(0,o.cloneElement)(y.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},y.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function h(e){const t=(0,r.Z)();return o.createElement(u,(0,n.Z)({key:String(t)},e))}},8137:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>g,frontMatter:()=>p,metadata:()=>d,toc:()=>h});var n=a(7462),o=(a(7294),a(3905)),l=a(5488),r=a(5162);const i={toc:[]};function s(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},i,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Download the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/zephyrproject-rtos/sdk-ng/releases"},"latest SDK installer"),":"),(0,o.kt)(l.Z,{groupId:"os",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"MacOS",value:"macos"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"linux",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"cd ~\nwget https://github.com/zephyrproject-rtos/sdk-ng/releases/download/v0.15.0/zephyr-sdk-0.15.0_linux-x86_64.tar.gz\n")),(0,o.kt)("p",null,"Unpack the archive and run the installer. The SDK will be placed in the ",(0,o.kt)("inlineCode",{parentName:"p"},"~/zephyr-sdk-0.15.0")," directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"tar -xvf zephyr-sdk-0.15.0_linux-x86_64.tar.gz\ncd zephyr-sdk-0.15.0\n./setup.sh\n")),(0,o.kt)("p",null,"Answer ",(0,o.kt)("inlineCode",{parentName:"p"},"y")," to both of the questions asked during the setup process."),(0,o.kt)("p",null,"Install udev rules, which allow you to flash most Zephyr boards as a regular user:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"sudo cp ~/zephyr-sdk-0.15.0/sysroots/x86_64-pokysdk-linux/usr/share/openocd/contrib/60-openocd.rules /etc/udev/rules.d\nsudo udevadm control --reload\n"))),(0,o.kt)(r.Z,{value:"macos",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"cd ~\nwget https://github.com/zephyrproject-rtos/sdk-ng/releases/download/v0.15.0/zephyr-sdk-0.15.0_macos-x86_64.tar.gz\n")),(0,o.kt)("p",null,"Unpack the archive and run the installer. The SDK will be placed in the ",(0,o.kt)("inlineCode",{parentName:"p"},"~/zephyr-sdk-0.15.0")," directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"tar -xvf zephyr-sdk-0.15.0_macos-x86_64.tar.gz\ncd zephyr-sdk-0.15.0\n./setup.sh\n"))),(0,o.kt)(r.Z,{value:"windows",mdxType:"TabItem"},(0,o.kt)("p",null,"Unpack the archive and run the installer. The SDK will be placed in the ",(0,o.kt)("inlineCode",{parentName:"p"},"%HOMEPATH%\\zephyr-sdk-0.14.2")," directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"cd %HOMEPATH%\nwget https://github.com/zephyrproject-rtos/sdk-ng/releases/download/v0.15.0/zephyr-sdk-0.15.0_windows-x86_64.zip\nunzip zephyr-sdk-0.15.0_windows-x86_64.zip\ncd zephyr-sdk-0.15.0\nsetup.cmd\n")),(0,o.kt)("p",null,"Answer ",(0,o.kt)("inlineCode",{parentName:"p"},"y")," to both of the questions asked during the setup process."))))}s.isMDXComponent=!0;const p={sidebar_position:99},c="Install Zephyr on Your Local Machine",d={unversionedId:"after-training/local-toolchain-install",id:"after-training/local-toolchain-install",title:"Install Zephyr on Your Local Machine",description:"The Kasm containers make it easy to start training because the Zephyr workspace",source:"@site/docs/after-training/local-toolchain-install.md",sourceDirName:"after-training",slug:"/after-training/local-toolchain-install",permalink:"/docs/after-training/local-toolchain-install",draft:!1,tags:[],version:"current",sidebarPosition:99,frontMatter:{sidebar_position:99},sidebar:"tutorialSidebar",previous:{title:"Exercise: MagTag as a name tag",permalink:"/docs/after-training/magtag-nametag"}},u={},h=[{value:"Option A: The magtag-demo repository as a Zephyr install",id:"magtag-zephyr",level:2},{value:"1. Create a Python virtual environment in the working folder",id:"1-create-a-python-virtual-environment-in-the-working-folder",level:3},{value:"2. Clone and Install",id:"2-clone-and-install",level:3},{value:"3. Install the Zephyr SDK Toolchain",id:"3-install-the-zephyr-sdk-toolchain",level:3},{value:"Recap",id:"recap",level:3},{value:"Option B: Follow the Golioth Quickstart to install a Zephyr workspace",id:"golioth-zephyr",level:2},{value:"Option C: Follow the Zephyr Getting Started Guide",id:"standard-zephyr",level:2}],m={toc:h};function g(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"install-zephyr-on-your-local-machine"},"Install Zephyr on Your Local Machine"),(0,o.kt)("p",null,"The Kasm containers make it easy to start training because the Zephyr workspace\nis pre-installed and ready to use. But what do you do when you get home and want\nto give Zephyr another try?"),(0,o.kt)("p",null,"Here are some options for installing a local version of Zephyr."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Option A: ",(0,o.kt)("a",{parentName:"li",href:"#magtag-zephyr"},"Use the MagTag repo as a Zephyr installation")),(0,o.kt)("li",{parentName:"ul"},"Option B: ",(0,o.kt)("a",{parentName:"li",href:"#golioth-zephyr"},"Follow the Golioth Quickstart to install Zephyr")),(0,o.kt)("li",{parentName:"ul"},"Option C: ",(0,o.kt)("a",{parentName:"li",href:"#standard-zephyr"},"Follow the Zephyr Getting Started Guide to install Zephyr"))),(0,o.kt)("h2",{id:"magtag-zephyr"},"Option A: The magtag-demo repository as a Zephyr install"),(0,o.kt)("p",null,"At Golioth, we like to add a west manifest file (",(0,o.kt)("inlineCode",{parentName:"p"},"west.yml"),") to each of our\nproject repositories. This file locks the project to a specific version of\nZephyr, Golioth, and all of the dependencies, and makes it easy to install them.\nIf you want to do more work with the MagTag, here's how to install those tools."),(0,o.kt)("h3",{id:"1-create-a-python-virtual-environment-in-the-working-folder"},"1. Create a Python virtual environment in the working folder"),(0,o.kt)(l.Z,{groupId:"os",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"MacOS",value:"macos"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"linux",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c"},"cd ~\nmkdir magtag-demo\npython3 -m venv magtag-demo/.venv\nsource magtag-demo/.venv/bin/activate\npip install wheel\npip install west\n")),(0,o.kt)("admonition",{title:"Reactivating the virtual environment",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Each time you start a new terminal session you need to enable the Python virtual\nenvironment:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd ~/magtag-demo\nsource .venv/bin/activate\ncd app\n")))),(0,o.kt)(r.Z,{value:"macos",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c"},"cd ~\nmkdir magtag-demo\npython3 -m venv magtag-demo/.venv\nsource magtag-demo/.venv/bin/activate\npip install wheel\npip install west\n")),(0,o.kt)("admonition",{title:"Reactivating the virtual environment",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Each time you start a new terminal session you need to enable the Python virtual\nenvironment:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd ~/magtag-demo\nsource .venv/bin/activate\ncd app\n")))),(0,o.kt)(r.Z,{value:"windows",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd %homepath%\nmkdir magtag-demo\npython -m venv magtag-demo\\.venv\nmagtag-demo\\.venv\\Scripts\\activate.bat\npip install west\n")),(0,o.kt)("admonition",{title:"Reactivating the virtual environment",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Each time you start a new terminal session you need to enable the Python virtual\nenvironment:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd %homepath%\\magtag-demo\n.venv\\Scripts\\activate.bat\ncd app\n"))))),(0,o.kt)("h3",{id:"2-clone-and-install"},"2. Clone and Install"),(0,o.kt)("p",null,"It is important that you do not use ",(0,o.kt)("inlineCode",{parentName:"p"},"git")," to clone the repository. Zephyr's ",(0,o.kt)("inlineCode",{parentName:"p"},"west"),"\nmeta tool will take care of fetching all of the code."),(0,o.kt)(l.Z,{groupId:"os",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"MacOS",value:"macos"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"linux",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c"},"cd ~\nwest init -m https://github.com/golioth/magtag-demo.git magtag-demo\ncd magtag-demo\nwest update\nwest zephyr-export\npip install -r ~/magtag-demo/deps/zephyr/scripts/requirements.txt\nwest blobs fetch hal_espressif\n"))),(0,o.kt)(r.Z,{value:"macos",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c"},"cd ~\nwest init -m https://github.com/golioth/magtag-demo.git magtag-demo\ncd magtag-demo\nwest update\nwest zephyr-export\npip install -r ~/magtag-demo/deps/zephyr/scripts/requirements.txt\nwest blobs fetch hal_espressif\n"))),(0,o.kt)(r.Z,{value:"windows",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c"},"cd %homepath%\nwest init -m https://github.com/golioth/magtag-demo.git magtag-demo\ncd magtag-demo\nwest update\nwest zephyr-export\npip install -r deps\\zephyr\\scripts\\requirements.txt\nwest blobs fetch hal_espressif\n")))),(0,o.kt)("p",null,"After fetching the code, the ",(0,o.kt)("inlineCode",{parentName:"p"},"west update")," command installs necessary modules,\nfollowed by steps to install Python dependencies and the binary blobs for\nEspressif's WiFi radio."),(0,o.kt)("h3",{id:"3-install-the-zephyr-sdk-toolchain"},"3. Install the Zephyr SDK Toolchain"),(0,o.kt)("p",null,"Up to this point we've been installing a standalone workspace inside the\nmagtag-demo directory. The final piece of the puzzle is to install the Zephyr\nSDK Toolchain. You only need one copy of these tools on your machine so if\nyou've previously installed them you may skip this section."),(0,o.kt)(s,{mdxType:"InstallZephyrSDKtoolchain"}),(0,o.kt)("h3",{id:"recap"},"Recap"),(0,o.kt)("p",null,"You have now installed a local Zephyr workspace. Be sure to activate your Python\nvirtual environment each time you start a new coding session, and build the\nsamples from the magtag-demo/app folder."),(0,o.kt)("h2",{id:"golioth-zephyr"},"Option B: Follow the Golioth Quickstart to install a Zephyr workspace"),(0,o.kt)("p",null,"The official ",(0,o.kt)("a",{parentName:"p",href:"https://docs.golioth.io"},"Golioth Docs")," include details about ",(0,o.kt)("a",{parentName:"p",href:"https://docs.golioth.io/hardware/esp32/zephyr-quickstart/set-up-zephyr"},"installing a Zephyr\nworkspace"),".\nThis workspace will also be able to build for other supported hardware like NXP.\nTo build Zephyr projects for Nordic parts, please follow the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.golioth.io/hardware/nrf91/zephyr-quickstart/set-up-zephyr"},"NCS-focused\ninstallation\nguide"),"."),(0,o.kt)("h2",{id:"standard-zephyr"},"Option C: Follow the Zephyr Getting Started Guide"),(0,o.kt)("p",null,"The Zephyr project maintains a ",(0,o.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/develop/getting_started/index.html"},"getting started\nguide"),"\nfor setting up a local Zephyr workspace. Note that Golioth is a module for\nZephyr and if you follow this guide you will need to manually add Golioth to the\nwest manifest file. For more, please see ",(0,o.kt)("a",{parentName:"p",href:"https://blog.golioth.io/how-to-add-golioth-to-an-existing-zephyr-project/"},"our blog post on adding Golioth to\nexisting Zephyr\nprojects"),"."))}g.isMDXComponent=!0}}]);